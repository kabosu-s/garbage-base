__NUXT_JSONP__("/hd6jiqwd_t", (function(a,b){return {data:[{id:"hd6jiqwd_t",createdAt:a,updatedAt:b,publishedAt:a,revisedAt:b,title:"制作時メモ 【Not Found \u002F ページ遷移時の動作】",mainimage:{url:"https:\u002F\u002Fimages.microcms-assets.io\u002Fassets\u002F30dedbc29bbf472a8bd932f7df5e77d6\u002Feeac577d4a4541458a68d4fa8714c847\u002Fvue_back.jpg",height:600,width:1200},body:"\u003Chtml\u003E\u003Chead\u003E\u003C\u002Fhead\u003E\u003Cbody\u003E\u003Ch2 id=\"h9ddf404540\"\u003ENot Foundページ\u003C\u002Fh2\u003E\u003Cp\u003ENot foundを作ります。\u003Cbr\u003E仕組みはRouterで予め設定していない。予期しない値が呼ばれたらnotfound.vueを呼び出すとするだけ。\u003Cbr\u003E\u003Cbr\u003E\u002Fsrc\u002Frouter\u002Findex.js\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"hljs\"\u003Econst routes = [\n\u003Cspan class=\"hljs-comment\"\u003E--略--\u003C\u002Fspan\u003E\n  {\n    \u003Cspan class=\"hljs-name\"\u003Epath\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'\u002F:pathMatch(.*)*'\u003C\u002Fspan\u003E,\n    \u003Cspan class=\"hljs-name\"\u003Ename\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'Notfound'\u003C\u002Fspan\u003E,\n    \u003Cspan class=\"hljs-name\"\u003Ecomponent\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003E()\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E'..\u002Fviews\u002FNotFound.vue'\u003C\u002Fspan\u003E),\n    \u003Cspan class=\"hljs-name\"\u003Emeta\u003C\u002Fspan\u003E: { \u003Cspan class=\"hljs-name\"\u003Etitle\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'Not Found'\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-name\"\u003Edesc\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'ページが見つかりません'\u003C\u002Fspan\u003E },\n  }\n]\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E\u003Cbr\u003Eググっていて詰まったところは、ルートを上から順に書いていって、上までの候補にパスが該当しない場合すべてという意味で\u003Cbr\u003E\u003Ccode\u003Epath: '\u002F*'\u003C\u002Fcode\u003Eと書けばいいと書いてあったけど、うまくいかなかった。\u003Cbr\u003E\u003Cbr\u003E3系だと\u003Ccode\u003E path: '\u002F:pathMatch(.\u003C\u002Fcode\u003E\u003Cem\u003E\u003Ccode\u003E)\u003C\u002Fcode\u003E\u003C\u002Fem\u003E\u003Ccode\u003E',\u003C\u002Fcode\u003Eとする必要があるそうです。ほーん。\u003Cbr\u003E\u003Cbr\u003E\u003C\u002Fp\u003E\u003Ch2 id=\"hbcf9481cfc\"\u003Eページ遷移時の動き\u003C\u002Fh2\u003E\u003Cp\u003Eページ遷移ぽい動きをしたときにページの位置が中途半端（今の位置を維持している…）のでトップに移動したい。\u003Cbr\u003E\u003Cbr\u003E\u003Ca href=\"https:\u002F\u002Frouter.vuejs.org\u002Fja\u002Fguide\u002Fadvanced\u002Fscroll-behavior.html\" target=\"_blank\" rel=\"noopener noreferrer\"\u003Eスクロールの振る舞い\u003C\u002Fa\u003E\u003Cbr\u003E\u003Cbr\u003E上記に書いてあったのをそのままやってみたけど\u003Cspan style=\"color:#333333\"\u003Eうまくいかなかった。\u003C\u002Fspan\u003E\u003Cbr\u003E\u003Cbr\u003E同じように悩んでいる人がいらしたのでガッツリ拝借します。\u003Cbr\u003E\u003Cbr\u003E\u003Ca href=\"https:\u002F\u002Fwww.nanatsu.jp\u002F?p=484\" target=\"_blank\" rel=\"noopener noreferrer\"\u003EVue-CLI(Vue3.x)でページ遷移時にトップへ移動する\u003C\u002Fa\u003E\u003Cbr\u003E\u003Cbr\u003Eその後色々書き換えてみて。\u003Cbr\u003E\u003Cbr\u003E \u003Ccode\u003Ereturn { x: 0, y: 0 }\u003C\u002Fcode\u003Eが  \u003Ccode\u003Ereturn { top: 0 }\u003C\u002Fcode\u003Eだったら中に直接書いてもうまくいったけど、\u003Cbr\u003E外に出したほうが見やすいので外に出す方向でいくことにしました。\u003Cbr\u003E\u003Cbr\u003E\u002Fsrc\u002Frouter\u002Findex.js\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"hljs\"\u003E\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002Fページ遷移時にページ先頭に移動する\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E scrollBehavior = \u003Cspan class=\"hljs-function\"\u003E(\u003Cspan class=\"hljs-params\"\u003Eto, \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E, savedPosition\u003C\u002Fspan\u003E) =&gt;\u003C\u002Fspan\u003E {\n  \u003Cspan class=\"hljs-keyword\"\u003Eif\u003C\u002Fspan\u003E (savedPosition) {\n    \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E savedPosition;\n  } \u003Cspan class=\"hljs-keyword\"\u003Eelse\u003C\u002Fspan\u003E {\n    \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E { \u003Cspan class=\"hljs-attr\"\u003Etop\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E }\n  }\n};\n\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E router = createRouter({\n  \u003Cspan class=\"hljs-attr\"\u003Ehistory\u003C\u002Fspan\u003E: createWebHistory(process.env.BASE_URL),\n  routes,\n  scrollBehavior,\n});\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E\u003Cbr\u003E\u003C\u002Fp\u003E\u003C\u002Fbody\u003E\u003C\u002Fhtml\u003E",tag:["WEB"]}],fetch:{},mutations:void 0}}("2021-08-13T09:06:52.403Z","2021-08-18T11:41:57.202Z")));