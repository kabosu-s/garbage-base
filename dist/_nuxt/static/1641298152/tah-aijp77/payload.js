__NUXT_JSONP__("/tah-aijp77", (function(a){return {data:[{id:"tah-aijp77",createdAt:"2021-08-16T13:26:33.776Z",updatedAt:a,publishedAt:"2021-08-16T13:27:01.657Z",revisedAt:a,title:"制作時メモ【MicroCMSから記事呼び出し】",mainimage:{url:"https:\u002F\u002Fimages.microcms-assets.io\u002Fassets\u002F30dedbc29bbf472a8bd932f7df5e77d6\u002Feeac577d4a4541458a68d4fa8714c847\u002Fvue_back.jpg",height:600,width:1200},body:"\u003Chtml\u003E\u003Chead\u003E\u003C\u002Fhead\u003E\u003Cbody\u003E\u003Ch2 id=\"hb42c7b61a3\"\u003EMicro CMSって？\u003C\u002Fh2\u003E\u003Cp\u003E\u003Cbr\u003Eデータベースとか、さっぱりわからんデザイナーですが…、せっかくVueやるしデータのやり取りしたいよね。\u003Cbr\u003Eと思ってた時にヘッドレスCMSを知りまして、日本製でとっつきやすそうだったMicro CMSを使ってみることにしました。\u003Cbr\u003E\u003Cbr\u003EヘッドレスCMSについて、詳しくはMicro CMSさんの公式のブログがとても参考になりましたのでそちらにおまかせします。\u003Cbr\u003E\u003Cbr\u003E\u003Ca href=\"https:\u002F\u002Fblog.microcms.io\u002Fvs-wordpress\u002F\" target=\"_blank\" rel=\"noopener noreferrer\"\u003EヘッドレスCMSって何？WordPressとの違いや特徴、DXで推進される要因を解説\u003C\u002Fa\u003E\u003Cbr\u003E\u003Cbr\u003E\u003C\u002Fp\u003E\u003Ch2 id=\"h75ff0529eb\"\u003EMicro CMSのAPIを使うために環境変数をつくる\u003C\u002Fh2\u003E\u003Cp\u003E扱う前の下準備。\u003Cbr\u003E.env.localをプロジェクト直下に作って、API_KEYを書く。\u003Cbr\u003EファイルからAPIを呼び出す時はこちらを参照するようにする。\u003Cbr\u003E\u003Cbr\u003EこれだとバンドルされたJSファイルにはAPIキーの値が含まれるらしい…。\u003Cbr\u003E対策を考える…。どこかで…（もういっそ\u003Cspan style=\"color:#333333\"\u003ENuxt.js\u003C\u002Fspan\u003E勉強して乗り換えようかな。）\u003Cbr\u003E\u003Cbr\u003E.env.local\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"hljs\"\u003E\u003Cspan class=\"hljs-attr\"\u003EVUE_APP_X_API_URL_BLOG\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E'xxxxxxxxxxxxxxxxxxxxxxxxxxxxx'\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-attr\"\u003EVUE_APP_X_API_KEY\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E'xxxxxxxxxxxxxxxxxxxxxxxxxxxxx'\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E\u003Cbr\u003E\u003C\u002Fp\u003E\u003Ch2 id=\"h84009ac2e9\"\u003EAPIと非同期通信する\u003C\u002Fh2\u003E\u003Cp\u003Eaxiosで非同期通信しようと思うのでインストール。\u003Cbr\u003E\u003Cbr\u003Eターミナル・プロジェクトルート直下\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"hljs\"\u003E$ npm \u003Cspan class=\"hljs-keyword\"\u003Einstall\u003C\u002Fspan\u003E axios \u003Cspan class=\"hljs-comment\"\u003E--save\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E\u003Cbr\u003E試しによんでみる。\u003Cbr\u003EHome.vueをこんなかんじに。\u003Cbr\u003E\u003Cbr\u003E\u002Fsrc\u002Fviews\u002FHHome.vue\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"hljs\"\u003E\u003Cspan class=\"xml\"\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Etemplate\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eclass\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"article_list\"\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n        \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ev-for\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"article in articles\"\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E:key\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"article.id\"\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n            \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Eimg\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003E:src\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"article.mainimage.url\"\u003C\u002Fspan\u003E \u002F&gt;\u003C\u002Fspan\u003E\n            \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Eh2\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-template-variable\"\u003E{{ article.title }}\u003C\u002Fspan\u003E\u003Cspan class=\"xml\"\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Eh2\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n        \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Etemplate\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E axios \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E\"axios\"\u003C\u002Fspan\u003E;\n\u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Edefault\u003C\u002Fspan\u003E {\n    data() {\n        \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E {\n            \u003Cspan class=\"hljs-attr\"\u003Earticles\u003C\u002Fspan\u003E: [],\n        };\n    },\n    created() {\n        \u003Cspan class=\"hljs-keyword\"\u003Ethis\u003C\u002Fspan\u003E.getPosts();\n    },\n    \u003Cspan class=\"hljs-attr\"\u003Emethods\u003C\u002Fspan\u003E: {\n        \u003Cspan class=\"hljs-keyword\"\u003Easync\u003C\u002Fspan\u003E getPosts() {\n            \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E response = \u003Cspan class=\"hljs-keyword\"\u003Eawait\u003C\u002Fspan\u003E axios.get(\n                process.env.VUE_APP_X_API_URL_BLOG,\n                {\n                    \u003Cspan class=\"hljs-attr\"\u003Eheaders\u003C\u002Fspan\u003E: {\n                        \u003Cspan class=\"hljs-string\"\u003E\"X-API-KEY\"\u003C\u002Fspan\u003E: process.env.VUE_APP_X_API_KEY,\n                    },\n                }\n            );\n            \u003Cspan class=\"hljs-keyword\"\u003Ethis\u003C\u002Fspan\u003E.articles = response.data.contents;\n        },\n    },\n};\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E\u003Cbr\u003Emicro.cmsで書いた記事が読み込まれました！\u003Cbr\u003E\u003Cbr\u003E\u003Cimg src=\"https:\u002F\u002Fimages.microcms-assets.io\u002Fassets\u002F30dedbc29bbf472a8bd932f7df5e77d6\u002Fb917a9cc73fa4cd9aeb99640cc7760a3\u002Fimg.jpg\" alt=\"\"\u003E\u003Cbr\u003E\u003Cbr\u003Eつづく\u003C\u002Fp\u003E\u003C\u002Fbody\u003E\u003C\u002Fhtml\u003E",tag:["WEB"]}],fetch:{},mutations:void 0}}("2021-08-18T12:04:35.062Z")));